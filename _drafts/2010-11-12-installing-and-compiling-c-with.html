---
layout: post
title: Installing OpenBabel and compiling with the C++ API
date: '2010-11-12T23:20:00.016+01:00'
author: hellogetmyblogback
tags:
- C++
- OpenBabel
- compiling
modified_time: '2010-11-16T11:20:47.452+01:00'
blogger_id: tag:blogger.com,1999:blog-8160351477288734008.post-1249888120022042306
blogger_orig_url: https://combichem.blogspot.com/2010/11/installing-and-compiling-c-with.html
---

<div style="text-align: justify;"><span style="font-size: small;"><a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> is a tool making life easier for everyone in the computational chemistry business. You can do tons of cool stuff with <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a>! I regularly use it to convert PDB files to input files for Gaussian09 and XYZ files, which are then used to calculate quantum chemistry on proteins and often back to PDB&nbsp; format again. It can also juggle around with <a href="http://www.daylight.com/dayhtml/doc/theory/theory.smiles.html">SMILES</a> strings, do all sorts of chem-informatics and whatnot. Everything you and I need.&nbsp; <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> is <a href="http://www.elvis.com/">the King</a> for these kinds of things.&nbsp;</span></div><div style="text-align: justify;"><span style="font-size: small;">In addition <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> has API to </span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">Python</span><span style="font-size: small;">, </span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">Pearl</span><span style="font-size: small;"> and </span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">C++</span><span style="font-size: small;">, so you can use all the features of <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> in your own scripts or compiled programs!&nbsp; I started using it for a project requiring automatic generation of thousands protein fragment XYZ files and automatic handling of input and output files. Many of my colleagues use <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> for stuff like this.</span><br />
<span style="font-size: small;">Not only is this an absolutely awesome piece of software, it is also completely free and open source under the <a href="http://www.gnu.org/licenses/gpl.html">GNU GPL</a>. I love this! This post concerns basic installation and use of the </span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">C++</span><span style="font-size: small;"> API, which is not completely straightforward in some cases.</span></div><div style="font-family: inherit; text-align: justify;"><span style="font-size: small;"> </span></div><span style="font-size: small;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;"><span style="font-size: small;"><a href="http://upload.wikimedia.org/wikipedia/commons/f/fa/Babel256.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://upload.wikimedia.org/wikipedia/commons/f/fa/Babel256.png" /></a></span></div><span style="font-size: small;"><br />
</span><br />
<span style="font-size: small;"><br />
</span><br />
<span style="font-size: small;"><br />
</span><br />
<div style="font-family: inherit; text-align: justify;"><span style="font-size: small;">For the some users, installing and compiling with <a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a> on a <a href="http://xkcd.com/456/">Linux</a> m<span style="font-family: inherit;">achine  can be a daunting task. Recently I helped my dear colleague Kasper Thofte setting  up </span></span><span style="font-size: small;"><a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a></span><span style="font-size: small;"><span style="font-family: inherit;"> and compiling a piece of <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">C++</span> code on our local </span><a href="http://en.wikipedia.org/wiki/Beowulf_%28computing%29" style="font-family: inherit;">Beowulf Cluster</a>.&nbsp; Kasper is currently developing some very cool&nbsp; automatic transition state search methods and he is also developing transition search methods in <a href="http://www.msg.chem.iastate.edu/GAMESS/GAMESS.html">GAMESS</a>, which is free quantum chemistry software </span></div><div style="font-family: inherit; text-align: justify;"><span style="font-size: small;">Since  we don't have root access on our cluster, everything has to be  installed in our home directories and we cannot use the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">/usr/lib </span>etc.  folders.&nbsp; These are all the steps we went through to get his <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">C++</span> code to  compile.</span></div><div style="font-family: inherit; text-align: justify;"><span style="font-size: small;"><br />
</span></div><span style="font-size: small;">First I checked out the latest development code from the <a href="http://en.wikipedia.org/wiki/SourceForge">SourceForge</a> into my <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/src/</span> dir. Compiled code goes in the <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/programs/</span> dir on my account.<br />
<br />
<span style="color: black; font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">cd ~/src</span><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">svn co https://openbabel.svn.sourceforge.net/svnroot/openbabel/openbabel/trunk openbabel</span></span></span><br />
<span style="font-size: small;"><br />
</span><br />
<span style="font-size: small;">Step two is to actually compile the code with cmake and telling it to install to my </span><span style="font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">~/programs/</span> </span><span style="font-size: small;"> dir with the a prefix option.</span><br />
<span style="font-size: small;">&nbsp;</span><span style="font-size: small;"><span style="font-size: x-small;"><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">cd openbabel </span><span style="font-size: small;"><br style="font-family: &quot;Courier New&quot;,Courier,monospace;" /></span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">cmake -DCMAKE_INSTALL_PREFIX=/home/andersx/programs/openbabel .</span></span></span><br />
<span style="font-size: small;"><span style="font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">make install</span></span><br />
<br />
Now, to make sure that you can access </span><span style="font-size: small;"><a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a></span><span style="font-size: small;"> from the command line as well as having the <span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: x-small;"><span style="font-size: small;">g++</span> </span>compilier find the libraries, you have to find a file in your home<span style="font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"> ~/ </span></span>directory called <span style="font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">.bashrc</span></span> and insert these two lines:</span><br />
<span style="font-size: small;"><br />
</span><br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: small;">export PATH=$PATH:/home/andersx/programs/openbabel/bin<br />
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/home/andersx/programs/openbabel/lib</span></div><span style="font-size: small;"><br />
</span><br />
<span style="font-size: small;">Now open a new terminal (to refresh the </span><span style="font-family: &quot;Courier New&quot;,Courier,monospace; font-size: small;">PATH</span><span style="font-size: small;"> and </span><span style="font-size: small;"><span style="font-family: &quot;Courier New&quot;,Courier,monospace;"> LD_LIBRARY_PATH </span>variables) and you are ready to compile your </span><span style="font-size: small;"><a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a></span><span style="font-size: small;"> code. There is one small catch however. You have to manually tell<span style="font-family: &quot;Courier New&quot;,Courier,monospace;"> g++ </span>where your libraries and headers for </span><span style="font-size: small;"><a href="http://openbabel.org/wiki/Main_Page">OpenBabel</a></span><span style="font-size: small;"> are located. This looks like this:</span><br />
<span style="font-size: small;"><br />
</span><br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-size: small;">g++ -I/home/andersx/programs/openbabel/include/openbabel-2.0 -L/home/andersx/programs/openbabel/lib -lopenbabel OBtest.cpp -o OBtest</span></div><span style="font-size: small;"><br />
</span><br />
<span style="font-size: small;">There you go! The above took us quite a while to figure out, and this should also work on any type of linux machine with the GNU compilers.</span><br />
<span style="font-size: small;"><br />
UPDATE: My friend Casper Steinmann just pointed out that he has a detailed blog post on installing and using the<span style="font-family: &quot;Courier New&quot;,Courier,monospace;"> Python</span> API for OpenBabel. So you should have no excuses for not using OpenBabel in your workflow: <a href="http://www.caspersteinmann.dk/?q=node/4">http://www.caspersteinmann.dk/?q=node/4</a></span><br />
<span style="font-size: small;">&nbsp; </span>