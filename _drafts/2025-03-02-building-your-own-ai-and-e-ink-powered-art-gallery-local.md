---
layout: post
title:  "Building Your Own AI & E-Ink Powered Art Gallery: A Local DIY Guide"
date:   2025-03-02
categories: AI art
author: Jimmy & Peter
---

I want to build a home e-ink based picture, where the content is generated by AI diffusion models.
So every morning I will have new art and wonder "what is that?".
I also require that the whole project is done locally on my own local network, because nobody needs to know what I have on my walls.

This is a project that we started in Feb 2024, and took some interations before we got it right.
In the mean time many commercial products has appeared.
TODO Insert examples

## Overview

TODO Insert toplogy graph overview of the services and explain
```mermaid
flowchart LR

    A(("Desktop<br>Computer")) --->|"GET status"| B(("Picture<br>Server"))
    B -->|"POST [image.png]"| A
    B ---|"R/W"| C(("database<br>sqlite3"))

    subgraph esp
    D(("ESP32")) ---> |"GET image.png"| B
    D -..->|sleep| D
    D --- E(("E-ink<br>Display"))
    end

    subgraph pi
    B ---|"POST image.png"| F(("Raspberry Pi"))
    F --- G(("E-ink<br>Display"))
    end
    
    classDef default fill:white,stroke:black,stroke-width:2px;
```

## Why E-ink?

There are is two main reasons, because it looks like an drawing and uses very little power.
But thirdly, it looks really good and I have yet to see anyone realise it is a screen technlogy.

The reason it looks so realistic because, what you are looking at is actual ink.
If you ever use a kindle or [Remarkable Tablet](https://remarkable.com/) you know what I am talking about.
The screen consist of small "pixel" of oil, with different pigments.
The pigments can then be moved up or down with a electromagnet, defining the color of the pixel.

[https://en.wikipedia.org/wiki/E_Ink](https://en.wikipedia.org/wiki/E_Ink)
[https://en.wikipedia.org/wiki/Electronic_paper](https://en.wikipedia.org/wiki/Electronic_paper)

The E-ink provider of choice we found [https://www.waveshare.com/](https://www.waveshare.com/) to have fairly good documentation and prices.
Especially, we liked the 13.3 inch black/white screen fits our needs.

<!-- https://www.waveshare.com/13.3inch-e-paper-hat-k.htm -->

| PIN | Description |
| --- | --- |
| VCC | Power positive (3.3V power supply input) |
| GND | Ground |
| DIN | SPI's MOSI, data input |
| SCLK | SPI's CLK, clock signal input |
| CS | Chip selection, low active |
| DC | Data/Command, low for command, high for data |
| RST | Reset, low active |
| BUSY | Busy status output pin (indicating busy) |
| PWR | Power on/off control |


## Choice of AI art

Some notes on the prompts and references

High contrast

drawings

Examples that works

Examples that do not work (real images)


## Choice of dithering

- why? low res
- why? because default makes it grey

TODO Examples


## Choice of hosting model

RPi and ESP32. Push or pull.

Start with RPi

## Using ESPHome and ESP32

idea

basic example for showing a image

> **Note:** To use the image downloader you need vram on your

> **Note:** If your picture is getting less visible the more complicated the picture is, you are using the wrong config

> **Note:** If your picture is not doing the full-refresh, please check your soldering connections


basic example for showing image over wifi

advanced example of showing esphome connection

<details>
<summary><b>GPIO Configuration for FireBettle</b></summary>

| PIN | ESP32 | Description |
| --- | --- | --- |
| VCC | 3V3 | Power positive (3.3V power supply input) |
| GND | GND | Ground |
| DIN | | SPI's MOSI, data input |
| SCLK | | SPI's CLK, clock signal input |
| CS | | Chip selection, low active |
| DC | | Data/Command, low for command, high for data |
| RST | | Reset, low active |
| BUSY | | Busy status output pin (indicating busy) |

</details>

<details>
<summary><b>GPIO Configuration for Y</b></summary>

| PIN | ESP32 | Description |
| --- | --- | --- |
| VCC | 3V3 | Power positive (3.3V power supply input) |
| GND | GND | Ground |
| DIN | | SPI's MOSI, data input |
| SCLK | | SPI's CLK, clock signal input |
| CS | | Chip selection, low active |
| DC | | Data/Command, low for command, high for data |
| RST | | Reset, low active |
| BUSY | | Busy status output pin (indicating busy) |

</details>


## 3D printed back side?


## Bring it all together

Result and comment


## Shopping List

| Item | Amazon Link | Swiss link |
| --- | --- | --- |
| ESP32 | X | Y |
| Waveshare 13.3" K | X | Y |


## Note on the next version

- Zigbee
- The new Waveshare screen
- Generate AI art of your friends when they visit


## References

- Dithering references
- AI art references
- ESP32 references


