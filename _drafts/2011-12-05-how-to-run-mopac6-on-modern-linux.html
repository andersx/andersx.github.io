---
layout: post
title: How to run MOPAC6 on a modern Linux machine
date: '2011-12-05T22:21:00.006+01:00'
author: hellogetmyblogback
tags:
- mopac MOPAC2009 MOPAC6 6 ubuntu compiler gamess hartree ev electronvolt wine
modified_time: '2011-12-16T14:27:40.831+01:00'
blogger_id: tag:blogger.com,1999:blog-8160351477288734008.post-6970130218504879708
blogger_orig_url: https://combichem.blogspot.com/2011/12/how-to-run-mopac6-on-modern-linux.html
---

<div style="color: black; text-align: justify;">Ahum, so we were trying to test the differences between <a href="http://en.wikipedia.org/wiki/Austin_Model_1">AM1</a> and <a href="http://en.wikipedia.org/wiki/PM3_%28chemistry%29">PM3</a> in <a href="http://en.wikipedia.org/wiki/GAMESS_%28US%29">GAMESS</a> and <a href="http://en.wikipedia.org/wiki/MOPAC">MOPAC2009</a> and surprisingly we found a not insignificant difference in the total energies. The energies are shifted by a constant factor of roughly ~1.000014.</div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">However, going back to the MOPAC manual (<a href="http://openmopac.net/manual/fun_con.html">http://openmopac.net/manual/fun_con.html</a>) we see that the implementation of physical constants were changed in 1993. The GAMESS implementation of <a href="http://en.wikipedia.org/wiki/Semi-empirical_quantum_chemistry_method">semi-empirical methods</a> is basically the MOPAC6 Fock-formation code with some GAMESS routines to diagonalize the whole shebang (for at least as far as single-point energies goes - I haven't been looking at derivatives yet).</div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">Most likely this difference is due to conversion factors between kcal/mol (what MOPAC will give you) and hartrees (GAMESS). For instance, <a href="http://mccammon.ucsd.edu/%7Edzhang/energy-unit-conv-table.html">this table</a> I randomly found on the Internet, which is <i>"taken from and old book by Karplus and Porter"</i>,<i> </i>says that 1 Hartree = 27.2107 eV, while Jimmy Stewart (Mr. MOPAC) says it's more like 27.2113961 eV. I guess the hartree must recently have been increased in energy along with the speed of light and neutrinos ... </div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">Anyways, I wanted to go back and try MOPAC6 and see if the problem was in the code there. Compiling the MOPAC6 source code, however, proved very difficult, since the source syntax in certain places is not compatible with a newer <a href="http://en.wikipedia.org/wiki/Gfortran">gfortran</a>, and not even my fall-back f77 compiler would eat it. However, <a href="http://software.intel.com/en-us/articles/intel-compilers/">Intel's trusty old Ifort compiler</a> was willing to eat MOPAC6 code, albeit with a couple of warnings.&nbsp;</div><div style="color: black; text-align: justify;">However, then the second problem arised. The Makefile was seemingly buggy and refused to work out-of-the-box on my Ubuntu 10.10 machine. So I decided to make a <a href="http://en.wikipedia.org/wiki/Makefile">Makefile</a> that would actually run. The script can be found at the bottom of this page, and compiles like a charm, if you have Ifort. Ifort is free for non-commercial use, and usually also quite a bit faster than gfortran.</div><div style="color: black; text-align: justify;"></div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">However, a possibly more simple (and possibly more fun) option is to install <a href="http://en.wikipedia.org/wiki/Wine_%28software%29">Wine</a> (a Windows compatible environment for Linux) and use Wine to execute Mopac. Jimmy Stewart has a <a href="http://openmopac.net/Downloads/Downloads.html">Windows compatible binary version of MOPAC6 available for download</a>. Now, lemme show you how to install Wine and fire up MOPAC! On Ubuntu this is as simple as (let's say you have a file named methan.mop):</div><div style="color: black; text-align: left;"><br />
</div><div style="color: black; font-family: &quot;Courier New&quot;,Courier,monospace; text-align: left;"><br />
<b>$ sudo apt-get install wine&nbsp;&nbsp; # This installs WINE</b></div><div style="color: black; text-align: left;"><br />
</div><div style="color: black; text-align: left;"><b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$ wine mopac6.exe methan&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # This runs MOPAC6 via wine with methan.mop</span></b></div><div style="color: black; text-align: justify;"><br />
<br />
</div><div style="color: black; text-align: justify;">And that's it! Either get Ifort (free for non-commercial use) or use Wine to run MOPAC6 via the binary. I honestly found the last method to be hilarious, but I guess I'm not too different from the guy below. </div><div style="color: black; text-align: justify;"><br />
</div><div class="separator" style="clear: both; color: black; text-align: center;"><a href="http://static.pokato.net/2011-03-10-11-09-56493792601.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://static.pokato.net/2011-03-10-11-09-56493792601.jpeg" width="213" /></a></div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">The newest MOPAC and GAMESS are available for free for personal and academic use.</div><div style="color: black; text-align: justify;"><br />
<b>UPDATE:</b> Just a short note on how to run the compiled version of MOPAC6. First, rename <b style="font-family: &quot;Courier New&quot;,Courier,monospace;">mopac.exe</b> to <b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">MOPAC</span></b>. Next, set the mopac directory in <b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">mopac.csh</span></b>. Now open a cshell and use the <b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">mopac.csh</span></b> script to envoke MOPAC6:<br />
<div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><b><br />
</b></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace; text-align: left;"><b>$ csh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # Start a cshell</b></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace; text-align: left;"><b>% </b><b>source mopac.csh &nbsp; &nbsp; &nbsp;&nbsp; # A script necessary to run MOPAC6</b></div><div style="text-align: left;"><b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">% mopac methan&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # To actually run MOPAC6 with the file methan.mop</span></b></div><br />
<br />
</div><div style="color: black; text-align: justify;"><b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">$</span></b> indicates bash shell, and <b><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">%</span></b> indicates a cshell.</div><div style="color: black; text-align: justify;"></div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;"><br />
</div><div style="color: black; text-align: justify;">MOPAC6 Makefile for Intel Ifort: (put it in the source code directory and type 'make')</div><div style="color: black; text-align: justify;"><a href="http://dl.dropbox.com/u/17435887/Makefile">http://dl.dropbox.com/u/17435887/Makefile</a></div>